<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Voice IELTS Testing</title>
  <style>
    /* Base styling */
    body { font-family: 'Open Sans', sans-serif; background: #eef2f7; color: #333; margin:0; padding:0; }
    .container { max-width: 700px; margin: 2rem auto; background: #fff; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 16px rgba(0,0,0,0.1); }
    h1, h2, h3 { text-align: center; margin-bottom: 1rem; }
    label { display: block; margin: 1rem 0 0.5rem; font-weight: 600; }
    input, select { width: 100%; padding: 0.6rem; border: 1px solid #ccc; border-radius: 6px; font-size: 1rem; }
    button { display: inline-block; margin-top: 1.5rem; padding: 0.8rem 1.2rem; background: #0066cc; color: #fff; border:none; border-radius: 8px; font-size:1rem; cursor: pointer; }
    button:disabled { background: #999; cursor: not-allowed; }
    .hidden { display: none !important; }
    .question-card { margin: 1.5rem 0; padding: 1rem; background: #f5fbff; border-left: 4px solid #0099ff; border-radius: 6px; }
    .results { text-align: center; }
    .animate { animation: fadeInScale 1s ease forwards; }
    @keyframes fadeInScale { from { opacity:0; transform:scale(0.7);} to { opacity:1; transform:scale(1);} }
    /* Certificate styling */
    #certificate {
      margin-top: 2rem;
      padding: 2rem;
      border-radius: 12px;
      background: linear-gradient(135deg, #f0f8ff 0%, #e6f2ff 100%);
      box-shadow: 0 4px 12px rgba(0, 102, 204, 0.2);
      border: 2px solid #004d99;
    }
    #certificate h3 {
      margin-bottom: 1rem;
      color: #004d99;
      font-size: 1.5rem;
      border-bottom: 2px solid #0099ff;
      display: inline-block;
      padding-bottom: 0.5rem;
    }
    #certificate p {
      margin: 0.5rem 0;
      font-size: 1rem;
      color: #333;
    }
  </style>
</head>
<body>
  <!-- Form Page -->
  <div class="container" id="form-page">
    <h1>Voice IELTS Testing</h1>
    <form id="infoForm">
      <label for="fullName">Full Name:</label>
      <input type="text" id="fullName" required>
      <label for="examDate">Date:</label>
      <input type="date" id="examDate" required>
      <label for="institution">Institution Name:</label>
      <input type="text" id="institution" required>
      <label for="examinerNo">Examiner Number:</label>
      <input type="text" id="examinerNo" required>
      <label for="candidateNo">Candidate Number:</label>
      <input type="text" id="candidateNo" required>
      <button type="submit">Start Test</button>
    </form>
  </div>  <!-- Test Page -->  <div class="container hidden" id="test-page">
    <h2 id="pageTitle">Welcome to Voice IELTS Testing</h2>
    <div id="readyContainer">
      <p>Are you ready to begin the Speaking Test?</p>
      <button id="startBtn">Yes, I'm Ready</button>
    </div>
    <div id="questionContainer" class="hidden">
      <div class="question-card">
        <p id="questionText"></p>
      </div>
      <button id="recordBtn">Start Speaking</button>
      <button id="nextBtn" disabled>Next Question</button>
    </div>
  </div>  <!-- Result Page -->  <div class="container hidden" id="result-page">
    <div class="results animate">
      <h2>Congratulations!</h2>
      <p>You have completed the test.</p>
      <p><strong>Your IELTS Score: <span id="scoreDisplay"></span></strong></p>
      <p>Eligible Countries:</p>
      <ul id="countriesList"></ul>
      <div id="certificate">
        <h3>Voice IELTS Testing Certificate</h3>
        <p>Name: <span id="certName"></span></p>
        <p>Date: <span id="certDate"></span></p>
        <p>Examiner No: <span id="certExaminer"></span></p>
        <p>Candidate No: <span id="certCandidate"></span></p>
        <p>Score: <span id="certScore"></span></p>
        <button id="downloadBtn">Download PDF</button>
      </div>
    </div>
  </div>  <!-- jsPDF for certificate -->  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>  <script>
    // Questions array (30 items)
    const questions = [
      // Part 1 (10)
      'What is your full name?', 'Where do you live?', 'Do you work or study?',
      'What do you do in your free time?', 'What kind of music do you like?',
      'How often do you go out with friends?', 'What are your hobbies?',
      'Do you enjoy reading?', 'Tell me about your hometown.', 'Do you like technology?',
      // Part 2 (10)
      'Describe a teacher who inspired you.', 'Talk about a trip you enjoyed.',
      'Describe a book you recently read.', 'Talk about a goal you achieved.',
      'Describe a time you helped someone.', 'Describe your favorite restaurant.',
      'Talk about a person you admire.', 'Describe your ideal house.',
      'Describe a technology you use daily.', 'Describe a memorable celebration.',
      // Part 3 (10)
      'Why is education important today?', 'How can people improve communication skills?',
      'What is the impact of social media?', 'Should education be free for everyone?',
      'How can technology help students learn better?', 'Study abroad vs. local study: which is better?',
      'What skills lead to job success?', 'How does culture shape identity?',
      'Why do people migrate to other countries?', 'What makes a good public speaker?'
    ];

    // Speech Recognition setup
    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    const recognition = new SpeechRecognition();
    recognition.interimResults = false;
    recognition.lang = 'en-US';

    // State
    let currentIndex = 0;
    const scores = [];

    // Elements
    const formPage = document.getElementById('form-page');
    const testPage = document.getElementById('test-page');
    const resultPage = document.getElementById('result-page');
    const infoForm = document.getElementById('infoForm');
    const startBtn = document.getElementById('startBtn');
    const recordBtn = document.getElementById('recordBtn');
    const nextBtn = document.getElementById('nextBtn');
    const questionText = document.getElementById('questionText');
    const scoreDisplay = document.getElementById('scoreDisplay');
    const countriesList = document.getElementById('countriesList');

    // Certificate fields
    const certName = document.getElementById('certName');
    const certDate = document.getElementById('certDate');
    const certExaminer = document.getElementById('certExaminer');
    const certCandidate = document.getElementById('certCandidate');
    const certScore = document.getElementById('certScore');
    const downloadBtn = document.getElementById('downloadBtn');

    // Initialize form date
    document.getElementById('examDate').valueAsDate = new Date();

    // Form Submit -> Start Test
    infoForm.addEventListener('submit', e => {
      e.preventDefault();
      formPage.classList.add('hidden');
      testPage.classList.remove('hidden');
    });

    // Start Questions
    startBtn.addEventListener('click', () => {
      document.getElementById('readyContainer').classList.add('hidden');
      document.getElementById('questionContainer').classList.remove('hidden');
      showQuestion();
    });

    function showQuestion() {
      questionText.innerText = questions[currentIndex];
      nextBtn.disabled = true;
      // speak question
      const utter = new SpeechSynthesisUtterance(questions[currentIndex]);
      window.speechSynthesis.speak(utter);
    }

    // Record Answer
    recordBtn.addEventListener('click', () => {
      recordBtn.disabled = true;
      recognition.start();
    });

    recognition.addEventListener('result', e => {
      const transcript = Array.from(e.results)
        .map(r => r[0].transcript)
        .join('');
      // Simple rule-based scoring: count keywords
      const keywords = questions[currentIndex].split(' ').slice(0,3);
      let matchCount = 0;
      keywords.forEach(k => { if(transcript.toLowerCase().includes(k.toLowerCase())) matchCount++; });
      const fluencyScore = Math.min(9, 3 + matchCount);
      scores.push(fluencyScore);
      nextBtn.disabled = false;
    });

    recognition.addEventListener('end', () => {
      recordBtn.disabled = false;
    });

    // Next Question or Finish
    nextBtn.addEventListener('click', () => {
      currentIndex++;
      if (currentIndex < questions.length) {
        showQuestion();
      } else {
        finishTest();
      }
    });

    // Finish -> Compute Score & Show Results
    function finishTest() {
      testPage.classList.add('hidden');
      resultPage.classList.remove('hidden');
      // average score
      const avg = (scores.reduce((a,b) => a + b, 0) / scores.length).toFixed(1);
      scoreDisplay.innerText = avg;
      certScore.innerText = avg;
      // country mapping
      const map = [
        { range: [8.0,9.0], list: ['UK','Canada','Australia','USA','New Zealand'] },
        { range: [7.0,7.5], list: ['Canada','Australia','Germany','Ireland'] },
        { range: [6.0,6.5], list: ['Germany','Poland','Netherlands','Hungary'] },
        { range: [5.0,5.5], list: ['Malaysia','UAE','Turkey'] },
        { range: [0,4.9], list: ['Basic English programs only'] }
      ];
      let countries = [];
      map.forEach(m => {
        if(avg >= m.range[0] && avg <= m.range[1]) countries = m.list;
      });
      countriesList.innerHTML = countries.map(c => `<li>${c}</li>`).join('');
      // fill certificate
      certName.innerText = document.getElementById('fullName').value;
      certDate.innerText = document.getElementById('examDate').value;
      certExaminer.innerText = document.getElementById('examinerNo').value;
      certCandidate.innerText = document.getElementById('candidateNo').value;
    }

    // Download PDF
    downloadBtn.addEventListener('click', () => {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      doc.setFontSize(18);
      doc.text('Voice IELTS Testing Certificate', 20, 20);
      doc.setFontSize(12);
      doc.text(`Name: ${document.getElementById('fullName').value}`, 20, 40);
      doc.text(`Date: ${document.getElementById('examDate').value}`, 20, 50);
      doc.text(`Examiner No: ${document.getElementById('examinerNo').value}`, 20, 60);
      doc.text(`Candidate No: ${document.getElementById('candidateNo').value}`, 20, 70);
      doc.text(`Score: ${scoreDisplay.innerText}`, 20, 80);
      doc.save('Voice-IELTS-Certificate.pdf');
    });
  </script></body>
</html>
<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Voice IELTS Testing</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #f5f7fa;
    }
    .form-section, .test-section, .certificate-section {
      margin-bottom: 30px;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    label, input {
      display: block;
      margin-bottom: 10px;
    }
    button {
      margin-top: 10px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
    }
    button:disabled {
      background-color: gray;
    }
  </style>
</head>
<body>
  <div class="form-section">
    <h2>IELTS Test Registration</h2>
    <label>Full Name: <input type="text" id="fullName" /></label>
    <label>Date: <input type="date" id="testDate" /></label>
    <label>Institution Name: <input type="text" id="institution" /></label>
    <label>Examiner ID: <input type="text" id="examiner" /></label>
    <label>Candidate Number: <input type="text" id="candidate" /></label>
    <button onclick="startTest()">Submit & Start Test</button>
  </div>  <div class="test-section" style="display:none">
    <h2>Audio Test</h2>
    <p id="paragraphText"></p>
    <button id="listenBtn" onclick="playAudioOnce()">🎧 Listen</button>
    <textarea id="userInput" placeholder="Type what you heard here..." rows="6" cols="50"></textarea>
    <button onclick="evaluateAnswer()">Submit Answer</button>
  </div>  <div class="certificate-section" style="display:none">
    <h2>Congratulations!</h2>
    <p>You completed the test.</p>
    <p>Score: <span id="score"></span>%</p>
    <p>Recommended Countries: <span id="countries"></span></p>
    <pre id="certificateText"></pre>
    <button onclick="downloadCertificate()">📥 Download Certificate</button>
  </div>  <script>
    const paragraphs = [
      {
        topic: "Environment",
        text: "The environment is facing unprecedented challenges due to human activities. Deforestation, pollution, and climate change are some of the biggest threats that our planet is currently grappling with. Forests are being cut down at alarming rates, reducing biodiversity and altering ecosystems. Pollution, both industrial and domestic, has contaminated our air, water, and soil, making it harder for people and wildlife to survive. Climate change, driven by greenhouse gas emissions, is causing global temperatures to rise, leading to melting ice caps, rising sea levels, and more frequent extreme weather events. It is our collective responsibility to take care of the environment. Simple actions like recycling, conserving energy, planting trees, and reducing the use of plastic can make a big difference. Governments, organizations, and individuals all have a role to play in protecting our planet. The future of our children and the generations to come depends on how we treat the Earth today."
      },
      {
        topic: "Education",
        text: "Education is one of the most powerful tools for personal and societal development. It opens doors to opportunities, builds confidence, and empowers individuals to achieve their full potential. From early childhood education to advanced university studies, the process of learning is continuous and lifelong. In many parts of the world, access to quality education remains a challenge due to poverty, conflict, or lack of infrastructure. Investing in education is essential for breaking the cycle of poverty and promoting equality. Educated individuals tend to be healthier, earn more, and contribute positively to society. In the modern age, education goes beyond textbooks and classrooms. Digital technologies, online platforms, and virtual classrooms have revolutionized the way we learn. Teachers play a critical role in shaping young minds and inspiring curiosity. Every child, regardless of their background, deserves the chance to learn and grow."
      },
      {
        topic: "Technology",
        text: "Technology has transformed nearly every aspect of our daily lives. From smartphones to artificial intelligence, modern innovations continue to reshape the way we live, work, and communicate. The internet has made information accessible at our fingertips, enabling real-time communication across the globe. Healthcare has improved through advanced diagnostic tools, telemedicine, and robotic surgeries. Education has expanded with e-learning platforms, making knowledge available to people in remote areas. In the business world, automation and data analysis have streamlined operations and improved efficiency. However, technology also brings challenges. Cybersecurity threats, digital addiction, and job displacement due to automation are pressing issues. As we embrace new technologies, it is important to consider ethical implications and ensure that innovation serves the greater good. Responsible use and inclusive access to technology can lead to a brighter and more connected future."
      }
    ];

    let selectedText = null;
    let audioPlayed = false;

    function speak(text) {
      const speech = new SpeechSynthesisUtterance(text);
      speech.lang = 'en-US';
      speech.rate = 0.9;
      window.speechSynthesis.speak(speech);
    }

    function startTest() {
      if (!document.getElementById("fullName").value ||
          !document.getElementById("testDate").value ||
          !document.getElementById("institution").value ||
          !document.getElementById("examiner").value ||
          !document.getElementById("candidate").value) {
        alert("Please fill in all fields.");
        return;
      }

      selectedText = paragraphs[Math.floor(Math.random() * paragraphs.length)];
      document.querySelector(".form-section").style.display = "none";
      document.querySelector(".test-section").style.display = "block";
      document.getElementById("paragraphText").innerText = `Topic: ${selectedText.topic}`;
    }

    function playAudioOnce() {
      if (!audioPlayed) {
        speak(selectedText.text);
        audioPlayed = true;
        document.getElementById("listenBtn").disabled = true;
        document.getElementById("listenBtn").innerText = "✅ Played";
      }
    }

    function evaluateAnswer() {
      const userText = document.getElementById("userInput").value;
      if (!userText.trim()) {
        alert("Please type your answer.");
        return;
      }

      const original = selectedText.text.toLowerCase().replace(/[^a-z\s]/g, '').split(/\s+/);
      const user = userText.toLowerCase().replace(/[^a-z\s]/g, '').split(/\s+/);

      let correct = 0;
      for (let word of user) {
        if (original.includes(word)) correct++;
      }
      const score = Math.round((correct / original.length) * 100);

      let countries = "";
      if (score >= 80) countries = "UK, Canada, Australia";
      else if (score >= 60) countries = "Germany, France";
      else if (score >= 40) countries = "Malaysia, Turkey";
      else countries = "Local programs only";

      document.getElementById("score").innerText = score;
      document.getElementById("countries").innerText = countries;
      document.querySelector(".test-section").style.display = "none";
      document.querySelector(".certificate-section").style.display = "block";

      const cert = `IELTS Voice Testing Certificate\n\nName: ${document.getElementById("fullName").value}\nDate: ${document.getElementById("testDate").value}\nInstitution: ${document.getElementById("institution").value}\nExaminer ID: ${document.getElementById("examiner").value}\nCandidate Number: ${document.getElementById("candidate").value}\nScore: ${score}%\nEligible Countries: ${countries}`;

      document.getElementById("certificateText").innerText = cert;
    }

    function downloadCertificate() {
      const text = document.getElementById("certificateText").innerText;
      const blob = new Blob([text], { type: "text/plain;charset=utf-8" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = "IELTS_Certificate.txt";
      link.click();
    }
  </script></body>
  </html>
<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IELTS Certificate Generator</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f5f7fa;
      color: #333;
    }
    .container {
      max-width: 600px;
      margin: auto;
      padding: 20px;
      background: white;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      border-radius: 10px;
      margin-top: 40px;
    }
    h2 {
      text-align: center;
      color: #0a58ca;
    }
    input, select {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    button {
      background: #0a58ca;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      width: 100%;
      font-size: 16px;
    }
    .hidden {
      display: none;
    }
    #certificate {
      background: linear-gradient(45deg, #c0e0fc, #ffffff);
      border: 2px solid #007bff;
      border-radius: 15px;
      padding: 30px;
      margin-top: 20px;
      font-family: 'Georgia', serif;
    }
    #certificate h3 {
      text-align: center;
      color: #0056b3;
    }
  </style>
</head>
<body>
  <div class="container" id="step1">
    <h2>Candidate Information</h2>
    <input type="text" id="fullName" placeholder="Full Name" required />
    <input type="date" id="testDate" value="2025-08-07" />
    <input type="text" id="institution" placeholder="Institution Name" />
    <input type="text" id="candidateNumber" placeholder="Candidate Number" />
    <input type="text" id="examNumber" placeholder="Examination Number" />
    <button onclick="goToStep2()">Start</button>
  </div>  <div class="container hidden" id="step2">
    <h2>Test Scores</h2>
    <input type="number" id="listening" placeholder="Listening (0-9)" min="0" max="9" />
    <input type="number" id="reading" placeholder="Reading (0-9)" min="0" max="9" />
    <input type="number" id="writing" placeholder="Writing (0-9)" min="0" max="9" />
    <input type="number" id="speaking" placeholder="Speaking (0-9)" min="0" max="9" />
    <button onclick="calculateResults()">Calculate</button>
    <div id="certificate" class="hidden"></div>
  </div>  <script>
    let formData = {};

    function goToStep2() {
      formData.fullName = document.getElementById("fullName").value;
      formData.testDate = document.getElementById("testDate").value;
      formData.institution = document.getElementById("institution").value;
      formData.candidateNumber = document.getElementById("candidateNumber").value;
      formData.examNumber = document.getElementById("examNumber").value;

      document.getElementById("step1").classList.add("hidden");
      document.getElementById("step2").classList.remove("hidden");
    }

    function suggestCountry(score) {
      if (score >= 8.0) return "UK, Canada, Australia, USA, New Zealand";
      if (score >= 7.0) return "Canada, Australia, Germany, Ireland";
      if (score >= 6.0) return "Germany, Poland, Netherlands, Hungary";
      if (score >= 5.0) return "Malaysia, UAE, Turkey";
      return "Basic English-speaking programs only";
    }

    function calculateResults() {
      const listening = parseFloat(document.getElementById("listening").value);
      const reading = parseFloat(document.getElementById("reading").value);
      const writing = parseFloat(document.getElementById("writing").value);
      const speaking = parseFloat(document.getElementById("speaking").value);
      const total = listening + reading + writing + speaking;
      const average = (total / 4).toFixed(1);
      const countries = suggestCountry(average);

      const cert = `
        <h3>IELTS Certificate</h3>
        <p><strong>Name:</strong> ${formData.fullName}</p>
        <p><strong>Date:</strong> ${formData.testDate}</p>
        <p><strong>Institution:</strong> ${formData.institution}</p>
        <p><strong>Candidate No:</strong> ${formData.candidateNumber}</p>
        <p><strong>Exam No:</strong> ${formData.examNumber}</p>
        <p><strong>IELTS Score:</strong> ${average}</p>
        <p><strong>Eligible Countries:</strong> ${countries}</p>
        <button onclick="downloadPDF()">Download Certificate (PDF)</button>
      `;

      const certDiv = document.getElementById("certificate");
      certDiv.innerHTML = cert;
      certDiv.classList.remove("hidden");
    }

    function downloadPDF() {
  const element = document.getElementById("certificate");
  const opt = {
    margin: 0.3,
    filename: `IELTS_Certificate_${formData.fullName}.pdf`,
    image: { type: 'jpeg', quality: 0.98 },
    html2canvas: { scale: 1.5 }, // scale কমানো হলো
    jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' } // A4 সাইজ ব্যবহার করা হলো
  };
  html2pdf().from(element).set(opt).save();
    }
  </script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script></body>
</html>
